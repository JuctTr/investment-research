# æŠ•ç ”åˆ†æç³»ç»Ÿ

ä¸€ä¸ªå®Œæ•´çš„ä¸ªäººæŠ•ç ”åˆ†æç³»ç»Ÿï¼Œå®ç°ã€Œè§‚ç‚¹ â†’ å†³ç­– â†’ å¤ç›˜ã€çš„å­¦ä¹ é—­ç¯ã€‚é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå¸®åŠ©æ‚¨ç³»ç»ŸåŒ–ç®¡ç†æŠ•èµ„ç ”ç©¶ã€å†³ç­–åˆ¶å®šå’Œå¤ç›˜åˆ†æã€‚

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

### æ ¸å¿ƒåŠŸèƒ½
- **å†…å®¹ç®¡ç†**ï¼šæ”¶é›†å’Œç®¡ç†æŠ•ç ”èµ„æ–™ï¼ˆæ–‡ç« ã€æ–°é—»ã€ç ”æŠ¥ã€ä¹¦ç±ç­‰ï¼‰
- **è§‚ç‚¹è®°å½•**ï¼šåŸºäºå†…å®¹å½¢æˆä¸ªäººåˆ†æå’Œè§‚ç‚¹
- **å†³ç­–åˆ¶å®š**ï¼šè®°å½•æŠ•èµ„å†³ç­–å’Œæ‰§è¡Œè®¡åˆ’
- **å¤ç›˜åˆ†æ**ï¼šå¯¹å†³ç­–ç»“æœè¿›è¡Œå¤ç›˜ï¼Œæ€»ç»“ç»éªŒæ•™è®­

### æŠ€æœ¯æ¶æ„
- **åç«¯**ï¼šNestJS + TypeScript + PostgreSQL + Prisma ORM
- **å‰ç«¯**ï¼šNext.js 16 + React + Ant Design + TypeScript
- **æ•°æ®åº“**ï¼šPostgreSQL 15ï¼ˆDocker å®¹å™¨éƒ¨ç½²ï¼‰
- **åŒ…ç®¡ç†**ï¼špnpm

## ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

### å‰ç½®è¦æ±‚

ç¡®ä¿æ‚¨çš„ç”µè„‘å·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š

1. **Node.js**ï¼ˆç‰ˆæœ¬ >= 18.0.0ï¼‰
   ```bash
   # æ£€æŸ¥ç‰ˆæœ¬
   node --version
   ```

2. **pnpm**ï¼ˆæ¨èä½¿ç”¨ï¼‰
   ```bash
   # å®‰è£… pnpm
   npm install -g pnpm

   # æ£€æŸ¥ç‰ˆæœ¬
   pnpm --version
   ```

3. **Docker**ï¼ˆç”¨äºæ•°æ®åº“ï¼‰
   ```bash
   # æ£€æŸ¥ç‰ˆæœ¬
   docker --version
   ```

### å®‰è£…æ­¥éª¤ï¼ˆè¶…è¯¦ç»†ç‰ˆï¼‰

#### ç¬¬ä¸€æ­¥ï¼šå…‹éš†é¡¹ç›®
```bash
# å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
git clone [é¡¹ç›®åœ°å€]

# è¿›å…¥é¡¹ç›®ç›®å½•
cd investment-research
```

#### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨æ•°æ®åº“

**é‡è¦ï¼** å¿…é¡»å…ˆå¯åŠ¨æ•°æ®åº“ï¼Œåç«¯æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
docker-compose up -d
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
- ä¸‹è½½ PostgreSQL æ•°æ®åº“é•œåƒ
- åˆ›å»ºå¹¶å¯åŠ¨æ•°æ®åº“å®¹å™¨
- æ•°æ®åº“å°†åœ¨ `localhost:5432` ç«¯å£è¿è¡Œ

éªŒè¯æ•°æ®åº“æ˜¯å¦å¯åŠ¨æˆåŠŸï¼š
```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# åº”è¯¥çœ‹åˆ° postgres å®¹å™¨çŠ¶æ€ä¸º "Up"
```

#### ç¬¬ä¸‰æ­¥ï¼šé…ç½®åç«¯ç¯å¢ƒ

```bash
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# 2. å®‰è£…åç«¯ä¾èµ–
pnpm install
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼ˆä½¿ç”¨ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨ï¼‰ï¼š
```env
# æ•°æ®åº“è¿æ¥é…ç½®
DATABASE_URL="postgresql://postgres:password123@localhost:5432/investment_research"

# JWT å¯†é’¥ï¼ˆéšæ„è®¾ç½®ä¸€ä¸ªé•¿å­—ç¬¦ä¸²ï¼‰
JWT_SECRET="your-super-secret-jwt-key-here"

# API ç«¯å£
PORT=3000
```

#### ç¬¬å››æ­¥ï¼šåˆå§‹åŒ–æ•°æ®åº“

```bash
# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯ä»£ç 
pnpm prisma:generate

# è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆåˆ›å»ºè¡¨ç»“æ„ï¼‰
pnpm prisma:migrate

# åˆå§‹åŒ–ç§å­æ•°æ®ï¼ˆå¯é€‰ï¼Œæ·»åŠ ä¸€äº›æµ‹è¯•æ•°æ®ï¼‰
pnpm prisma:seed
```

#### ç¬¬äº”æ­¥ï¼šå¯åŠ¨åç«¯æœåŠ¡

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm run start:dev
```

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š
```
[Nest] INFO Starting Nest application...
[Nest] INFO Application successfully started on port 3000
```

æ­¤æ—¶åç«¯ API å·²åœ¨ `http://localhost:3000` è¿è¡Œ
- API æ–‡æ¡£ï¼ˆSwaggerï¼‰ï¼š`http://localhost:3000/api`
- å¥åº·æ£€æŸ¥ï¼š`http://localhost:3000/health`

#### ç¬¬å…­æ­¥ï¼šé…ç½®å‰ç«¯ç¯å¢ƒ

**æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£**ï¼ˆä¸è¦å…³é—­åç«¯æœåŠ¡ï¼‰

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd client

# å®‰è£…å‰ç«¯ä¾èµ–
pnpm install
```

åˆ›å»ºå‰ç«¯ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š
```bash
# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
echo "NEXT_PUBLIC_API_URL=http://localhost:3000/api/v1" > .env.local
```

#### ç¬¬ä¸ƒæ­¥ï¼šå¯åŠ¨å‰ç«¯æœåŠ¡

```bash
# åœ¨ client ç›®å½•ä¸‹æ‰§è¡Œ
pnpm dev
```

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š
```
- ready started server on 0.0.0.0:3001, url: http://localhost:3001
```

æ­¤æ—¶å‰ç«¯åº”ç”¨å·²åœ¨ `http://localhost:3001` è¿è¡Œ

### ğŸ‰ æ­å–œï¼ç³»ç»Ÿå·²å®Œå…¨å¯åŠ¨

- **å‰ç«¯ç•Œé¢**ï¼šhttp://localhost:3001
- **åç«¯ API**ï¼šhttp://localhost:3000
- **API æ–‡æ¡£**ï¼šhttp://localhost:3000/api

## ğŸ“ é¡¹ç›®ç»“æ„è¯´æ˜

```
investment-research/
â”œâ”€â”€ client/                    # å‰ç«¯é¡¹ç›®ï¼ˆNext.jsï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/              # é¡µé¢è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/         # API è°ƒç”¨
â”‚   â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ types/            # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ src/                       # åç«¯æºä»£ç ï¼ˆNestJSï¼‰
â”‚   â”œâ”€â”€ modules/              # ä¸šåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ content/          # å†…å®¹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ viewpoint/        # è§‚ç‚¹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ decision/         # å†³ç­–ç®¡ç†
â”‚   â”‚   â””â”€â”€ review/           # å¤ç›˜åˆ†æ
â”‚   â”œâ”€â”€ common/               # é€šç”¨åŠŸèƒ½
â”‚   â””â”€â”€ main.ts               # åº”ç”¨å…¥å£
â”œâ”€â”€ prisma/                    # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ schema.prisma         # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â””â”€â”€ seed.ts              # åˆå§‹åŒ–æ•°æ®
â”œâ”€â”€ docker-compose.yml         # Docker é…ç½®
â”œâ”€â”€ package.json              # åç«¯ä¾èµ–
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### åç«¯å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
pnpm run start:dev

# ç”Ÿäº§æ¨¡å¼
pnpm run build
pnpm run start:prod

# æ•°æ®åº“ç›¸å…³
pnpm prisma:generate    # ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
pnpm prisma:migrate     # è¿è¡Œæ•°æ®åº“è¿ç§»
pnpm prisma:studio      # æ‰“å¼€æ•°æ®åº“ç®¡ç†ç•Œé¢
pnpm prisma:seed        # é‡ç½®å¹¶æ·»åŠ ç§å­æ•°æ®

# æµ‹è¯•
pnpm run test           # è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm run test:cov       # æµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```

### å‰ç«¯å‘½ä»¤

```bash
# åœ¨ client ç›®å½•ä¸‹æ‰§è¡Œ

# å¼€å‘æ¨¡å¼
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start

# ä»£ç æ£€æŸ¥
pnpm lint
```

### æ•°æ®åº“å‘½ä»¤

```bash
# æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker-compose logs postgres

# åœæ­¢æ•°æ®åº“
docker-compose down

# é‡å¯æ•°æ®åº“
docker-compose restart
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—

1. **åç«¯æ¨¡å—åˆ›å»º**
   ```bash
   # ä½¿ç”¨ Nest CLI ç”Ÿæˆæ¨¡å—
   nest g module modules/your-module
   nest g controller modules/your-module
   nest g service modules/your-module
   ```

2. **æ•°æ®åº“æ¨¡å‹æ›´æ–°**
   - ç¼–è¾‘ `prisma/schema.prisma`
   - è¿è¡Œ `pnpm prisma:migrate`

3. **å‰ç«¯é¡µé¢åˆ›å»º**
   - åœ¨ `client/src/app` ä¸‹åˆ›å»ºæ–°é¡µé¢
   - æ·»åŠ å¯¹åº”çš„ API æœåŠ¡

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ªçº¦å®šå¼æäº¤è§„èŒƒï¼ˆfeat:, fix:, chore: ç­‰ï¼‰
- æ¨¡å—ä¹‹é—´åªèƒ½é€šè¿‡ Service è°ƒç”¨
- ç¦æ­¢è·¨æ¨¡å—ç›´æ¥è®¿é—®æ•°æ®åº“

## ğŸ“ ä½¿ç”¨è¯´æ˜

### 1. å†…å®¹ç®¡ç†
- æ·»åŠ æŠ•ç ”èµ„æ–™ï¼ˆæ–‡ç« ã€æ–°é—»ã€ç ”æŠ¥ç­‰ï¼‰
- æ”¯æŒæ ‡ç­¾åˆ†ç±»å’Œæœç´¢
- å¯é™„åŠ é“¾æ¥å’Œæè¿°

### 2. è§‚ç‚¹è®°å½•
- åŸºäºæ”¶é›†çš„å†…å®¹å½¢æˆä¸ªäººè§‚ç‚¹
- è®°å½•åˆ†æé€»è¾‘å’Œç½®ä¿¡åº¦
- è®¾ç½®å¸‚åœºå±•æœ›ï¼ˆçœ‹æ¶¨/çœ‹è·Œ/ä¸­æ€§ï¼‰

### 3. å†³ç­–åˆ¶å®š
- æ ¹æ®è§‚ç‚¹åˆ¶å®šæŠ•èµ„å†³ç­–
- è®¾ç½®è¡ŒåŠ¨ç±»å‹ï¼ˆä¹°å…¥/å–å‡º/æŒæœ‰ï¼‰
- è®°å½•å†³ç­–åŸå› å’Œé‡‘é¢

### 4. å¤ç›˜åˆ†æ
- è®°å½•å†³ç­–æ‰§è¡Œç»“æœ
- åˆ†æç›ˆäºæƒ…å†µ
- æ€»ç»“ç»éªŒæ•™è®­

## â“ å¸¸è§é—®é¢˜

### Q: åç«¯å¯åŠ¨å¤±è´¥ï¼Œæç¤ºæ•°æ®åº“è¿æ¥é”™è¯¯ï¼Ÿ
A:
1. ç¡®è®¤ Docker æ˜¯å¦å·²å¯åŠ¨
2. ç¡®è®¤æ•°æ®åº“å®¹å™¨æ˜¯å¦è¿è¡Œï¼š`docker-compose ps`
3. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®

### Q: å‰ç«¯æ— æ³•è¿æ¥åˆ°åç«¯ï¼Ÿ
A:
1. ç¡®è®¤åç«¯æœåŠ¡æ˜¯å¦åœ¨ 3000 ç«¯å£è¿è¡Œ
2. æ£€æŸ¥å‰ç«¯çš„ `.env.local` æ–‡ä»¶ä¸­çš„ API URL æ˜¯å¦æ­£ç¡®
3. å¯èƒ½å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œæ£€æŸ¥åç«¯ CORS é…ç½®

### Q: å¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ
A:
```bash
# åˆ é™¤æ‰€æœ‰æ•°æ®
docker-compose down -v

# é‡æ–°å¯åŠ¨
docker-compose up -d

# é‡æ–°è¿è¡Œè¿ç§»
pnpm prisma:migrate
pnpm prisma:seed
```

### Q: å¦‚ä½•æŸ¥çœ‹ API æ–‡æ¡£ï¼Ÿ
A: å¯åŠ¨åç«¯æœåŠ¡åï¼Œè®¿é—® `http://localhost:3000/api`

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/AmazingFeature`
3. æäº¤æ‚¨çš„æ›´æ”¹ï¼š`git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/AmazingFeature`
5. æäº¤ Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
2. åœ¨é¡¹ç›®ä¸­æäº¤ Issue
3. æŸ¥çœ‹åç«¯çš„ API æ–‡æ¡£ï¼š`http://localhost:3000/api`

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸ¯**